\documentclass{article}

\usepackage{blindtext}
\usepackage{geometry}
\geometry{
 a4paper,
 total={170mm,257mm},
 left=20mm,
 top=20mm,
}
\begin{document}

\section{Basics}
\subsection{Introduction}
This instruction set is designed for people who want to create operating systems and learn system programming. The main goal is to keep it simple and well documented to avoid undefined behaviours.

\subsection{Registers}
The instruction set features 17 registers in total. Each register has a size of 64 bits and some of them are \textit{hardwired}.
\begin{table}[h!]
\centering
\begin{tabular} { | p{3cm} | | p{6cm} | p{2cm} |}
  \hline
  \multicolumn{3}{|c|}{Registers}\\
  \hline
  Mnemonic & Description & Identifier\\
  \hline
  zero & Hardwired zero & 0000\\
  ip & Instruction pointer & 0001\\
  sb & Stack base & 0010\\
  sp & Stack pointer & 0011\\
  pgp & Page table pointer & 0100\\
  thp & Trap handler pointer & 0101\\
  ihp & Interrupt handler pointer & 0110\\
  ra & Return address & 0111\\
  r1 & General purpose register 1 & 1000\\
  r2 & General purpose register 2 & 1001\\
  r3 & General purpose register 3 & 1010\\
  r4 & General purpose register 4 & 1011\\
  r5 & General purpose register 5 & 1100\\
  r6 & General purpose register 6 & 1101\\
  r7 & General purpose register 7 & 1110\\
  r8 & General purpose register 8 & 1111\\
  \hline
\end{tabular}
\caption{Registers table}
\end{table}

\subsection{Instructions}
\begin{table}[h!]
\centering
\begin{tabular} { | p{2cm} | | p{2cm} | p{2cm} |}
  \hline
  \multicolumn{3}{|c|}{MOVRR}\\
  \hline
  0x1 & \multicolumn{2}{|c|}{0x2}\\
  \hline
  Opcode & Destination & Source\\
  00000000 & register & register\\
  \hline
\end{tabular}
\end{table}

\section{Traps and interrupts}
\subsection{Traps}
Traps are triggered by executing the SYS instruction. The machine will jump to the trap handler pointer, while setting the trap cause special register to the identifier specified in the SYS instruction. You can use traps to transfer control from user mode to kernel mode (e.g. system calls).
\subsection{Interrupts}
Interrupts are triggered by external and asynchronous events such as signals from external devices (e.g. keyboard, mouse) and from the didactical environment (such as the debugger or manual interrupt triggers). \\An abstract interrupt controller ensures that interrupt requests are queued in order to be processed in an ordered manner. They have a interrupt cause value in order to be recognized by the interrupt handler.
\subsection{Exceptions}
Exceptions are synchronous interrupts that are triggered by the machine itself when it encounters errors (e.g. invalid instructions, invalid page table) and has to break the normal flow of execution. Check the interrupts and exceptions table for a complete list cause values.
\\

\begin{table}[h!]
\centering
\begin{tabular} { | p{6cm} | p{6cm} |}
  \hline
  \multicolumn{2}{|c|}{Cause values}\\
  \hline
  Identifier & Description\\
  \hline  
  0x0 & Invalid instruction\\
  0x1 & Invalid memory access \\
  
  \hline
  
\end{tabular}
\caption{Interrupts and exceptions cause values}
\end{table}



\end{document}
